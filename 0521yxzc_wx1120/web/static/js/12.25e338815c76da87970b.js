webpackJsonp([12],{wEKT:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),n=i.n(s),o=i("NYxO"),c=i("liRd"),a={name:"com-header",data:function(){return{show:!1,headImgUrl:c.a.getLocalStorage("headImgUrl")?c.a.getLocalStorage("headImgUrl"):"",openedCities:null}},methods:n()({},Object(o.mapActions)({openUserBar:"switch_UserBar"}),{set_currentCity:function(e){var t=this;console.log("val选择的城市",e),this.$store.dispatch("selectCity",e.city),this.$store.dispatch("get_currentCity",e.areaUuid).then(function(i){i.success&&(t.$store.commit("SET_CURRENTCITY",e),t.$store.commit("RESET_ALL_LOCATION"),t.switch_show(),location.reload())})},switch_show:function(){this.show=!this.show},getOpenedCities:function(){this.openedCities=c.a.getLocalStorage("OPENED_ARPORT","object");for(var e=0;e<this.openedCities.length;e++)this.openedCities[e].cityNames=this.openedCities[e].cityNames.substring(0,2)+"市","泉州市"===this.openedCities[e].cityNames&&(this.openedCities[e].cityNames="厦门市");console.log("this.openedCities",this.openedCities)}}),computed:n()({},Object(o.mapState)(["location","currentCity"])),components:{comMask:function(){return i.e(1).then(i.bind(null,"FJar"))}},mounted:function(){this.getOpenedCities()}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("header",[i("div",{staticClass:"userIcon",on:{click:function(t){e.openUserBar()}}},[e.headImgUrl?i("img",{attrs:{src:e.headImgUrl}}):e._e()]),e._v(" "),i("div",{staticClass:"nowCity",on:{click:function(t){e.switch_show()}}},[i("span",[e._v(e._s(e.currentCity.city))])]),e._v(" "),i("transition",{attrs:{"enter-active-class":"animated bounceInDown","leave-active-class":"animated bounceOutUp"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"citySelectMask"},[i("ul",e._l(e.openedCities,function(t){return i("li",{key:t.uuid,on:{click:function(i){e.set_currentCity({city:t.cityNames,areaUuid:t.sysAreaConfigDto.areaUuid})}}},[e._v(e._s(t.cityNames))])}))])]),e._v(" "),i("comMask",{attrs:{show:e.show,event:e.switch_show}})],1)},staticRenderFns:[]};var u=i("VU/8")(a,r,!1,function(e){i("xUq2")},null,null);t.default=u.exports},xUq2:function(e,t){}});
//# sourceMappingURL=12.25e338815c76da87970b.js.map