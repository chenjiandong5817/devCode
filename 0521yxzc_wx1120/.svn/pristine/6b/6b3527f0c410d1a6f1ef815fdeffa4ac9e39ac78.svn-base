{"version":3,"sources":["webpack:///src/components/login/login.vue","webpack:///./src/components/login/login.vue?c3de","webpack:///./src/components/login/login.vue"],"names":["login","comMask","computed","extends_default","Object","vuex_esmfrom_dll_reference_vendor_library","validate","oldValue","newValue","methods","this","time","Countdown","_this","msg","_this2","reload","data","text","show","login_login","render","_vm","_h","$createElement","_c","_self","attrs","enter-active-class","leave-active-class","staticClass","_v","directives","name","rawName","value","expression","modifiers","trim","type","placeholder","maxlength","domProps","on","input","$event","target","composing","phone","blur","$forceUpdate","click","clear","_s","sendMsg","disabled","hidden","checked","Array","isArray","_i","change","$$a","$$el","$$c","$$i","concat","slice","href","_e","loginMask","event","default_event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/10.098c70f88fd3152507a8.js","sourcesContent":["<template>\r\n    <div>\r\n        <transition enter-active-class=\"animated bounceIn\" leave-active-class=\"animated bounceOut\">\r\n            <div class=\"login-form\" v-if=\"loginMask\">\r\n                <form>\r\n                    <p class=\"title\">验证手机号，方便司机联系您</p>\r\n                    <div class=\"form-item phone\">\r\n                        <input type=\"tel\" placeholder=\"请输入手机号\" v-model.trim=\"phone\" maxlength=\"11\" >\r\n                <span class=\"clearBtn\" v-show=\"phone\" @click=\"clear\"></span>\r\n                        <span class=\"btn\" v-if=\"(time < 60)\">{{time}} 秒</span>\r\n                        <span class=\"btn\" v-else @click=\"sendMsg()\">验证</span>\r\n                      </div>\r\n                    <div class=\"form-item validate\">\r\n                        <input type=\"number\" placeholder=\"请输入验证码\" v-model.trim=\"validate\" maxlength=\"4\">\r\n                    </div>\r\n                    <div class=\"form-item\">\r\n                        <!-- <div class=\"submitBtn\" @click=\"login()\">确定</div> -->\r\n                        <cube-button  class=\"submitBtn\" :disabled=\"!disabled\"  @click=\"login()\">确定</cube-button>\r\n                    </div>\r\n                    <label class=\"style-label rule\">\r\n                        <input type=\"checkbox\" v-model=\"checked\" hidden=\"hidden\">\r\n                        <span class=\"style-checkbox\"><span class=\"style-checkbox-inner\"></span></span> <a href=\"/api/base/userAgreement\">我接受元翔专车用户协议</a> </label>\r\n                </form>\r\n                <!-- 取消底部关闭按钮 -->\r\n                <!-- <span class=\"closeBtn\" @click=\"switch_loginMask\">X</span>-->\r\n              </div>\r\n        </transition>\r\n        <transition enter-active-class=\"animated fadeIn\" leave-active-class=\"animated fadeOut\">\r\n            <com-mask :show=\"loginMask\" :event=\"default_event\"></com-mask>\r\n        </transition>\r\n    </div>\r\n</template>\r\n<script>import { mapState, mapActions } from 'vuex'\r\nconst comMask = () => import('@/components/Mask.vue')\r\nexport default {\r\n  data () {\r\n    return {\r\n      phone: '',\r\n      validate: '',\r\n      time: 60,\r\n      checked: true\r\n    }\r\n  },\r\n  components: {\r\n    comMask\r\n  },\r\n  computed: {\r\n    ...mapState(['loginMask']),\r\n    disabled () {\r\n      return this.phone && this.validate\r\n    }\r\n  },\r\n  watch: {\r\n    validate (newValue, oldValue) {\r\n      if (newValue.length > 4) {\r\n        this.validate = oldValue\r\n      }\r\n    },\r\n    phone (newValue, oldValue) {\r\n      let re = /^[0-9]*$/\r\n      if (!re.test(newValue)) {\r\n        this.phone = oldValue || ''\r\n      } else {\r\n        this.phone = newValue\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      switch_loginMask: 'switch_loginMask'\r\n    }),\r\n    Countdown () {\r\n      var self = this\r\n      if (self.time === 0) {\r\n        self.time = 60\r\n      } else {\r\n        self.time--\r\n        setTimeout(function () {\r\n          self.Countdown()\r\n        }, 1000)\r\n      }\r\n    },\r\n    // 清空输入框\r\n    clear () {\r\n      this.phone = ''\r\n    },\r\n    sendMsg () {\r\n      if (!this.phone) {\r\n        this.showToastTime('手机不能为空')\r\n        return\r\n      }\r\n      this.$store.dispatch('sendMsgRequest', this.phone).then((data) => {\r\n        if (data.success) {\r\n          this.Countdown()\r\n        } else {\r\n          this.showToastTime(data.msg)\r\n        }\r\n      }).catch(() => {\r\n        this.showToastTime('请求出错')\r\n        return false\r\n      })\r\n    },\r\n    login () {\r\n      if (!this.checked) {\r\n        this.showToastTime('请勾选用户协议')\r\n        return\r\n      }\r\n      if (!this.phone || !this.validate) {\r\n        this.showToastTime('请填写手机和验证码')\r\n        return\r\n      }\r\n      let RE = /^((13[0-9])|(14[0-9])|(15[0-9])|(17[0-9])|(18[0-9]))\\d{8}$/\r\n      if (!RE.test(this.phone) || this.phone.length !== 11) {\r\n        this.showToastTime('手机格式不正确')\r\n        return\r\n      }\r\n      this.$store.dispatch('loginRequest', {phone: this.phone, validate: this.validate}).then((data) => {\r\n        if (data.success) {\r\n          // 绑定成功触发页面刷新\r\n          window.location.reload()\r\n        } else {\r\n          this.showToastTime(data.msg)\r\n        }\r\n        console.log(data)\r\n      }).catch(() => {\r\n        this.showToastTime('请求出错')\r\n        return false\r\n      })\r\n    },\r\n    showToastTime (text) {\r\n      const toast = this.$createToast({\r\n        type: 'warn',\r\n        time: 1000,\r\n        txt: text\r\n      })\r\n      toast.show()\r\n    },\r\n    default_event () {\r\n      return false\r\n    }\r\n  }\r\n}\r\n</script><style lang=\"less\">\r\n@import \"../../assets/css/less/variable.less\";\r\n.login-form {\r\n  display: none;\r\n  position: absolute;\r\n  z-index: 99;\r\n  top: 50%;\r\n  left: 50%;\r\n  margin-left: -155px;\r\n  margin-top: -140px;\r\n  padding: 0 15px;\r\n  width: 280px;\r\n  height: 280px;\r\n  display: block;\r\n  background: #fff;\r\n  border-radius: 8px;\r\n  text-align: center;\r\n  /* 取消底部关闭按钮 */\r\n  /* &:after{\r\n    position: absolute;\r\n    content: '';\r\n    bottom: -33px;\r\n    left: 50%;\r\n    margin-left: -1px;\r\n    width: 2px;\r\n    height: 33px;\r\n    background: #fff;\r\n  } */\r\n  .title {\r\n    padding: 30px 0 15px;\r\n    text-align: center;\r\n    font-size: 14px;\r\n    color: #4b4e51;\r\n    line-height: 2;\r\n  }\r\n  .form-item {\r\n    position: relative;\r\n    display: table;\r\n    width: 100%;\r\n    padding: 15px 0;\r\n    font-size: 14px;\r\n    border-bottom: .5px solid #e5e5e5;\r\n    &:nth-last-child(2) {\r\n      border: none;\r\n    }\r\n    &.phone {\r\n      &:before {\r\n        position: absolute;\r\n        content: '';\r\n        top: 50%;\r\n        margin-top: -8px;\r\n        left: 2px;\r\n        height: 16px;\r\n        width: 12px;\r\n        background: url('../../assets/images/phone.png') no-repeat center; \r\n        background-size: 100% 100%;\r\n      }\r\n    }\r\n    &.validate {\r\n      &:before {\r\n        position: absolute;\r\n        content: '';\r\n        top: 50%;\r\n        margin-top: -8px;\r\n        left: 2px;\r\n        height: 17px;\r\n        width: 15px;\r\n        background: url('../../assets/images/validate.png') no-repeat center; \r\n        background-size: 100% 100%;\r\n      }\r\n    }\r\n\r\n    &:after {\r\n      .clear()\r\n    }\r\n    input {\r\n      display: inline-block;\r\n      float: left;\r\n      height: 20px;\r\n      line-height: 20px;\r\n      padding-left: 30px;\r\n      &::-webkit-input-placeholder {\r\n        color: #d0d5d9;\r\n      }\r\n    }\r\n    span.btn {\r\n      display: inline-block;\r\n      padding: 0 10px;\r\n      line-height: 20px;\r\n      color: @fc_active;\r\n    }\r\n    .clearBtn {\r\n      position: relative; //right: 0;\r\n      //top: 50%;\r\n      //margin-top: -8px;\r\n      //display: block;\r\n      display: inline-block;\r\n      margin-left: -16px;\r\n      width: 16px;\r\n      height: 16px;\r\n      background: url('../../assets/images/wrong.png');\r\n    }\r\n    .submitBtn {\r\n      display: table-cell;\r\n      text-align: center;\r\n      height: 40px;\r\n      line-height: 40px;\r\n      font-size: 16px;\r\n      color: #fff;\r\n      border-radius: 2px;\r\n      padding: 0;\r\n      /* &:active,\r\n      &:focus,\r\n      &:visited {\r\n        background: @fc_active - 11\r\n      } */\r\n    }\r\n  }\r\n  .rule {\r\n    margin: 0 auto;\r\n    font-size: 12px;\r\n    line-height: 16px;\r\n    color: @fc_active;\r\n    a {\r\n      color: @fc_active;\r\n    }\r\n  }\r\n  .closeBtn {\r\n    position: absolute;\r\n    width: 36px;\r\n    height: 36px;\r\n    line-height: 36px;\r\n    text-align: center;\r\n    bottom: -66px;\r\n    left: 50%;\r\n    margin-left: -18px;\r\n    font-size: 16px;\r\n    color: @fc_active;\r\n    background: #fff;\r\n    border-radius: 50%;\r\n  }\r\n}\r\n\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/login/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('transition',{attrs:{\"enter-active-class\":\"animated bounceIn\",\"leave-active-class\":\"animated bounceOut\"}},[(_vm.loginMask)?_c('div',{staticClass:\"login-form\"},[_c('form',[_c('p',{staticClass:\"title\"},[_vm._v(\"验证手机号，方便司机联系您\")]),_vm._v(\" \"),_c('div',{staticClass:\"form-item phone\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.phone),expression:\"phone\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"tel\",\"placeholder\":\"请输入手机号\",\"maxlength\":\"11\"},domProps:{\"value\":(_vm.phone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.phone=$event.target.value.trim()},\"blur\":function($event){_vm.$forceUpdate()}}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.phone),expression:\"phone\"}],staticClass:\"clearBtn\",on:{\"click\":_vm.clear}}),_vm._v(\" \"),((_vm.time < 60))?_c('span',{staticClass:\"btn\"},[_vm._v(_vm._s(_vm.time)+\" 秒\")]):_c('span',{staticClass:\"btn\",on:{\"click\":function($event){_vm.sendMsg()}}},[_vm._v(\"验证\")])]),_vm._v(\" \"),_c('div',{staticClass:\"form-item validate\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.validate),expression:\"validate\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"number\",\"placeholder\":\"请输入验证码\",\"maxlength\":\"4\"},domProps:{\"value\":(_vm.validate)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.validate=$event.target.value.trim()},\"blur\":function($event){_vm.$forceUpdate()}}})]),_vm._v(\" \"),_c('div',{staticClass:\"form-item\"},[_c('cube-button',{staticClass:\"submitBtn\",attrs:{\"disabled\":!_vm.disabled},on:{\"click\":function($event){_vm.login()}}},[_vm._v(\"确定\")])],1),_vm._v(\" \"),_c('label',{staticClass:\"style-label rule\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.checked),expression:\"checked\"}],attrs:{\"type\":\"checkbox\",\"hidden\":\"hidden\"},domProps:{\"checked\":Array.isArray(_vm.checked)?_vm._i(_vm.checked,null)>-1:(_vm.checked)},on:{\"change\":function($event){var $$a=_vm.checked,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.checked=$$a.concat([$$v]))}else{$$i>-1&&(_vm.checked=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.checked=$$c}}}}),_vm._v(\" \"),_c('span',{staticClass:\"style-checkbox\"},[_c('span',{staticClass:\"style-checkbox-inner\"})]),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"/api/base/userAgreement\"}},[_vm._v(\"我接受元翔专车用户协议\")])])])]):_vm._e()]),_vm._v(\" \"),_c('transition',{attrs:{\"enter-active-class\":\"animated fadeIn\",\"leave-active-class\":\"animated fadeOut\"}},[_c('com-mask',{attrs:{\"show\":_vm.loginMask,\"event\":_vm.default_event}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-88cd5c4e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/login/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-88cd5c4e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-88cd5c4e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/login/login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}